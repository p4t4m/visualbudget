<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>New Zealand Budget Visualised</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="text/javascript"  src="js/utils.js"></script>
  <script type="text/javascript"  src="js/pie-chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <link rel="stylesheet" href="css/global.css">
  <link rel="stylesheet" href="css/year.css">

</head>
<body>
<header>
  <h1>New Zealand Budget Visualised</h1>
</header>

<div class = "chartCard">
  <canvas id="pie-chart" ></canvas>
  <div id="legend-container"></div>
</div>
<div class="sidebar">
  <div class="adjustsContainer">
    <label id="adjustmentsLabel" for="adjustments">
      Adjust data for:
    </label>
    <select id="adjustments" autocomplete="off" >
      <option value="inflation" selected>Inflation (2010 $)</option>
      <option value="infpop">Inflation & Population</option>
      <option value="gdp">% of GDP</option>
      <option value="none">None (Nominal)</option>
    </select>
  </div>
  <div class="yearContainer">
    <label id="yearLabel" for="yearAdjust">
      Year:
    </label>
    <select id="yearAdjust" autocomplete="off" >
      <option value="2010" >2010</option>
      <option value="2011" >2011</option>
      <option value="2012" >2012</option>
      <option value="2013" >2013</option>
      <option value="2014" >2014</option>
      <option value="2015" >2015</option>
      <option value="2016" >2016</option>
      <option value="2017" >2017</option>
      <option value="2018" >2018</option>
      <option value="2019" >2019</option>
      <option value="2020" >2020</option>
      <option value="2021" >2021</option>
      <option value="2022" >2022</option>
      <option value="2023" selected>2023</option>
    </select>
  </div>
  <div id="buttonsContainer">
    <button class="button-d" id="show-all">Show All</button>
    <button class="button-d" id="hide-all">Hide All</button>
  </div>
  <p id="notice"><i>Individual budget items can be toggled by selecting them on the legend.</i></p>
</div>

<script>
  let pieChart = document.getElementById('pie-chart').getContext('2d');
  createPieChart('data/2010-23-expenditure3.csv',pieChart);
</script>

<div class="text">
  <h2>Data clarifications</h2>
  <ul>
    <li>Budgetary votes are frequently <a href="https://www.treasury.govt.nz/publications/budgets/vote-information/notes-historical-vote-information">reorganised</a>, so year-to-year comparisons may not always be valid. To compensate for this, various adjustments have been made combining different votes.</li>
    <li>All figures for 2023 are projections only.</li>
    <li>Revenue (IRD) includes various tax credits and transfer payments as expenditures</li>
  </ul>

  <h2>Data credits</h2>
  <ul>
    <li>All expenditure and revenue data has been collected from the New Zealand treasury.</li>
    <li>GDP, inflation and population data is from the World Bank.</li>
    <li>GDP, inflation and population projections for 2023 are from Stats NZ (current figures as of July 2023).</li>
  </ul>
</div>

<footer>
  <p>Â© 2023, <a href="mailto:contact@visualbudget.nz">Contact</a></p>
</footer>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RHM4M9QYER"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-RHM4M9QYER');
</script>

</body>
</html>